{"version":3,"file":"print_format_v3.min.js","sources":["../../../apps/frappe/frappe/public/js/legacy/layout.js","../../../apps/frappe/frappe/public/js/legacy/print_table.js","../../../apps/frappe/frappe/public/js/legacy/print_format.js"],"sourcesContent":["// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n/*\n+ Layout\n\t+ wrapper\n\t\t+ LayoutRow\n\t\t\t+ main_head\n\t\t\t+ main_body\n\t\t\t\t+ header\n\t\t\t\t+ body\n\t\t\t\t..\n\t\t\t\t..\n\t\t\t\t+ subrows\n\n*/\nwindow.Layout = function Layout(parent, width) {\n\tif(parent&&parent.substr) { parent = $i(parent); }\n\n\tthis.wrapper = $a(parent, 'div', '', {display:'none'});\n\n\n\tif(width) {\n\t\tthis.width = this.wrapper.style.width;\n\t}\n\n\tthis.myrows = [];\n}\n\nLayout.prototype.addrow = function() {\n\tthis.cur_row = new LayoutRow(this, this.wrapper);\n\tthis.myrows[this.myrows.length] = this.cur_row;\n\treturn this.cur_row\n}\n\nLayout.prototype.addsubrow = function() {\n\tthis.cur_row = new LayoutRow(this, this.cur_row.main_body);\n\tthis.myrows[this.myrows.length] = this.cur_row;\n\treturn this.cur_row\n}\n\nLayout.prototype.addcell = function(width) {\n\treturn this.cur_row.addCell(width);\n}\n\n// eslint-disable-next-line\nLayout.prototype.setcolour = function(col) { $bg(cc,col); }\n\nLayout.prototype.show = function() { $(this.wrapper).toggle(false); }\nLayout.prototype.hide = function() { $(this.wrapper).toggle(false); }\nLayout.prototype.close_borders = function() {\n\tif(this.with_border) {\n\t\tthis.myrows[this.myrows.length-1].wrapper.style.borderBottom = '1px solid #000';\n\t}\n}\n\nfunction LayoutRow(layout, parent) {\n\tthis.layout = layout;\n\tthis.wrapper = $a(parent,'div','form-layout-row');\n\n\t// main head\n\tthis.main_head = $a(this.wrapper, 'div');\n\n\t// main head\n\tthis.main_body = $a(this.wrapper, 'div');\n\n\tif(layout.with_border) {\n\t\tthis.wrapper.style.border = '1px solid #000';\n\t\tthis.wrapper.style.borderBottom = '0px';\n\t}\n\n\tthis.header = $a(this.main_body, 'div','',{padding:(layout.with_border ? '0px 8px' : '0px')});\n\tthis.body = $a(this.main_body,'div');\n\tthis.table = $a(this.body, 'table', '', {width:'100%', borderCollapse: 'collapse', tableLayout:'fixed'});\n\tthis.row = this.table.insertRow(0);\n\n\tthis.mycells = [];\n}\n\nLayoutRow.prototype.hide = function() { $(this.wrapper).toggle(false); }\nLayoutRow.prototype.show = function() { $(this.wrapper).toggle(true); }\n\nLayoutRow.prototype.addCell = function(wid) {\n\tvar lc = new LayoutCell(this.layout, this, wid);\n\tthis.mycells[this.mycells.length] = lc;\n\treturn lc;\n}\n\nfunction LayoutCell(layout, layoutRow, width) {\n\tif(width) { // add '%' if user has forgotten\n\t\tvar w = width + '';\n\t\tif(w.substr(w.length-2, 2) != 'px') {\n\t\t\tif(w.substr(w.length-1, 1) != \"%\") {width = width + '%'}\n\t\t}\n\t}\n\n\tthis.width = width;\n\tthis.layout = layout;\n\tvar cidx = layoutRow.row.cells.length;\n\tthis.cell = layoutRow.row.insertCell(cidx);\n\n\tthis.cell.style.verticalAlign = 'top';\n\tthis.set_width(layoutRow.row, width);\n\n\tvar h = $a(this.cell, 'div','',{padding:(layout.with_border ? '0px 8px' : '0px')});\n\n\tthis.wrapper = $a(this.cell, 'div','',{padding:(layout.with_border ? '8px' : '0px')});\n\n\tlayout.cur_cell = this.wrapper;\n\tlayout.cur_cell.header = h;\n}\n\n// evenly distribute columns\nLayoutCell.prototype.set_width = function(row, width) {\n\tvar w = 100;\n\tvar n_cells = row.cells.length;\n\tvar cells_with_no_width = n_cells;\n\n\t// current cell\n\tif(width) {\n\t\t$y(row.cells[n_cells-1], {width: cint(width) + '%'})\n\t} else {\n\t\trow.cells[n_cells-1].estimated_width = 1;\n\t}\n\n\t// get user specified width\n\tfor(var i=0; i<n_cells; i++) {\n\t\tif(!row.cells[i].estimated_width) {\n\t\t\tw = w - cint(row.cells[i].style.width);\n\t\t\tcells_with_no_width--;\n\t\t}\n\t}\n\n\t// evenly distribute all\n\tfor(var i=0; i<n_cells; i++) {\n\t\tif(row.cells[i].estimated_width)\n\t\t\t$y(row.cells[i], {width:cint(w/cells_with_no_width) + '%'})\n\t}\n\n}\n\nLayoutCell.prototype.show = function() { $(this.wrapper).toggle(true); }\nLayoutCell.prototype.hide = function() { $(this.wrapper).toggle(false); }\n","frappe.printTable = Class.extend({\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\t\tif(!this.columns)\n\t\t\tthis.columns = this.get_columns();\n\t\tthis.data = this.get_data();\n\t\tthis.remove_empty_cols();\n\t\tthis.set_widths();\n\t\tthis.make();\n\t},\n\tget_columns: function() {\n\t\tvar perms = frappe.perm.get_perm(this.doctype);\n\t\treturn ['Sr'].concat($.map(frappe.meta.docfield_list[this.tabletype], function(df) {\n\t\t\treturn (cint(df.print_hide) || !(perms[df.permlevel] &&\n\t\t\t\tperms[df.permlevel].read)) ? null : df.fieldname;\n\t\t}));\n\t},\n\tget_data: function() {\n\t\tvar children = frappe.get_doc(this.doctype, this.docname)[this.fieldname] || [];\n\n\t\tvar data = []\n\t\tfor(var i=0; i<children.length; i++) {\n\t\t\tdata.push(copy_dict(children[i]));\n\t\t}\n\t\treturn data;\n\t},\n\n\tremove_empty_cols: function() {\n\t\tvar me = this;\n\n\t\tvar cols_with_value = [];\n\n\t\t$.each(this.data, function(i, row) {\n\t\t\t$.each(me.columns, function(ci, fieldname) {\n\t\t\t\tvar value = row[fieldname];\n\t\t\t\tif(value || ci==0) {\n\t\t\t\t\tif(cols_with_value.indexOf(ci)===-1) {\n\t\t\t\t\t\tcols_with_value.push(ci);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tvar columns = [],\n\t\t\twidths = [],\n\t\t\thead_labels = [];\n\n\n\t\t// sort by col index, asc\n\t\tcols_with_value.sort(function(a, b) { return a - b; });\n\n\t\t// make new arrays to remove empty cols, widths and head labels\n\t\t$.each(cols_with_value, function(i, col_idx) {\n\t\t\tcolumns.push(me.columns[col_idx]);\n\t\t\tme.widths && widths.push(me.widths[col_idx]);\n\t\t\tme.head_labels && head_labels.push(me.head_labels[col_idx]);\n\t\t});\n\n\t\tthis.columns = columns;\n\t\tif(this.widths) this.widths = widths;\n\t\tif(this.head_labels) this.head_labels = head_labels;\n\n\t},\n\n\tmake: function() {\n\t\tvar me = this;\n\t\tthis.tables = [];\n\t\tvar table_data = [];\n\t\t$.each(this.data, function(i, d) {\n\t\t\ttable_data.push(d);\n\t\t\tif(d.page_break) {\n\t\t\t\tme.add_table(table_data);\n\t\t\t\ttable_data = [];\n\t\t\t}\n\t\t});\n\t\tif(table_data)\n\t\t\tme.add_table(table_data);\n\t},\n\n\tadd_table: function(data) {\n\t\tvar me = this;\n\t\tvar wrapper = $(\"<div>\")\n\t\tvar table = $(\"<table>\").css(this.table_style).appendTo(wrapper);\n\n\t\tvar headrow = $(\"<tr>\").appendTo(table);\n\t\t$.each(me.columns, function(ci, fieldname) {\n\t\t\tvar df = frappe.meta.docfield_map[me.tabletype][fieldname];\n\t\t\tif(me.head_labels) {\n\t\t\t\tvar label = me.head_labels[ci];\n\t\t\t} else {\n\t\t\t\tvar label = df ? df.label : fieldname;\n\t\t\t}\n\t\t\tvar td = $(\"<td>\").html(__(label))\n\t\t\t\t.css(me.head_cell_style)\n\t\t\t\t.css({\"width\": me.widths[ci]})\n\t\t\t\t.appendTo(headrow)\n\n\t\t\tif(df && in_list(['Float', 'Currency'], df.fieldtype)) {\n\t\t\t\ttd.css({\"text-align\": \"right\"});\n\t\t\t}\n\t\t});\n\n\t\t$.each(data, function(ri, row) {\n\t\t\tvar allow = true;\n\t\t\tif(me.condition) {\n\t\t\t\tallow = me.condition(row);\n\t\t\t}\n\t\t\tif(allow) {\n\t\t\t\tvar tr = $(\"<tr>\").appendTo(table);\n\n\t\t\t\t$.each(me.columns, function(ci, fieldname) {\n\t\t\t\t\tif(fieldname.toLowerCase()===\"sr\")\n\t\t\t\t\t\tvar value = row.idx;\n\t\t\t\t\telse\n\t\t\t\t\t\tvar value = row[fieldname];\n\n\t\t\t\t\tvar df = frappe.meta.docfield_map[me.tabletype][fieldname];\n\t\t\t\t\tvalue = frappe.format(value, df, {for_print:true});\n\n\t\t\t\t\t// set formatted value back into data so that modifer can use it\n\t\t\t\t\trow[fieldname] = value;\n\n\t\t\t\t\t// modifier is called after formatting so that\n\t\t\t\t\t// modifier's changes do not get lost in formatting (eg. 3.45%)\n\t\t\t\t\tif(me.modifier && me.modifier[fieldname])\n\t\t\t\t\t\tvalue = me.modifier[fieldname](row);\n\n\t\t\t\t\tvar td = $(\"<td>\").html(value)\n\t\t\t\t\t\t.css(me.cell_style)\n\t\t\t\t\t\t.css({width: me.widths[ci]})\n\t\t\t\t\t\t.appendTo(tr);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.tables.push(wrapper)\n\t},\n\n\tset_widths: function() {\n\t\tvar me = this;\n\t\t// if widths not passed (like in standard),\n\t\t// get from doctype and redistribute to fit 100%\n\t\tif(!this.widths) {\n\t\t\tthis.widths = $.map(this.columns, function(fieldname, ci) {\n\t\t\t\tvar df = frappe.meta.docfield_map[me.tabletype][fieldname];\n\t\t\t\treturn df && df.print_width || (fieldname==\"Sr\" ? 30 : 80);\n\t\t\t});\n\n\t\t\tvar sum = 0;\n\t\t\t$.each(this.widths, function(i, w) {\n\t\t\t\tsum += cint(w);\n\t\t\t});\n\n\t\t\tthis.widths = $.map(this.widths, function(w) {\n\t\t\t\tw = (flt(w) / sum * 100).toFixed(0);\n\t\t\t\treturn (w < 5 ? 5 : w) + \"%\";\n\t\t\t});\n\t\t}\n\t},\n\n\tget_tables: function() {\n\t\tif(this.tables.length > 1) {\n\t\t\treturn $.map(this.tables, function(t) {\n\t\t\t\treturn t.get(0);\n\t\t\t});\n\t\t} else {\n\t\t\treturn this.tables[0].get(0);\n\t\t}\n\t},\n\n\tcell_style: {\n\t\tborder: '1px solid #999',\n\t\tpadding: '3px',\n\t\t'vertical-align': 'top',\n\t\t'word-wrap': 'break-word',\n\t},\n\n\thead_cell_style: {\n\t\tborder: '1px solid #999',\n\t\tpadding: '3px',\n\t\t'vertical-align': 'top',\n\t\t'background-color': '#ddd',\n\t\t'font-weight': 'bold',\n\t\t'word-wrap': 'break-word',\n\t},\n\n\ttable_style: {\n\t\twidth: '100%',\n\t\t'border-collapse': 'collapse',\n\t\t'margin-bottom': '10px',\n\t\t'margin-top': '10px',\n\t\t'table-layout': 'fixed'\n\t},\n})\n\nwindow.print_table = function print_table(dt, dn, fieldname, tabletype, cols, head_labels, widths, condition, cssClass, modifier) {\n\treturn new frappe.printTable({\n\t\tdoctype: dt,\n\t\tdocname: dn,\n\t\tfieldname: fieldname,\n\t\ttabletype: tabletype,\n\t\tcolumns: cols,\n\t\thead_labels: head_labels,\n\t\twidths: widths,\n\t\tcondition: condition,\n\t\tcssClass: cssClass,\n\t\tmodifier: modifier\n\t}).get_tables();\n}\n","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// default print style\n_p.def_print_style_body = \"html, body, div, span, td, p { \\\n\t\tfont-family: inherit; \\\n\t\tfont-size: inherit; \\\n\t}\\\n\t.page-settings {\\\n\t\tfont-family: Helvetica, 'Open Sans', sans-serif;\\\n\t\tfont-size: 9pt;\\\n\t}\\\n\tpre { margin:0; padding:0;}\";\n\n_p.def_print_style_other = \"\\n.simpletable, .noborder { \\\n\t\tborder-collapse: collapse;\\\n\t\tmargin-bottom: 10px;\\\n\t}\\\n\t.simpletable td {\\\n\t\tborder: 1pt solid #777;\\\n\t\tvertical-align: top;\\\n\t\tpadding: 4px;\\\n\t}\\\n\t.noborder td {\\\n\t\tvertical-align: top;\\\n\t}\";\n\n_p.go = function(html) {\n\tvar w = _p.preview(html);\n\tw.print();\n\tw.close();\n}\n\n_p.preview = function(html) {\n\tvar w = window.open();\n\tif(!w) {\n\t\tfrappe.msgprint(__(\"Please enable pop-ups\"));\n\t\treturn;\n\t}\n\tw.document.write(html);\n\tw.document.close();\n\treturn w\n}\n\n_f.get_value = function(dt, dn, fn) {\n\tif(locals[dt] && locals[dt][dn])\n\t\treturn locals[dt][dn][fn];\n}\n\n// _p can be referenced as this inside $.extend\n$.extend(_p, {\n\tshow_dialog: function() {\n\t\tif(!_p.dialog) {\n\t\t\t_p.make_dialog();\n\t\t}\n\t\t_p.dialog.show();\n\t},\n\n\tmake_dialog: function() {\n\t\t// Prepare Dialog Box Layout\n\t\tvar dialog = new frappe.ui.Dialog({\n\t\t\ttitle: \"Print Formats\",\n\t\t\tfields: [\n\t\t\t\t{fieldtype:\"Select\", label:\"Print Format\", fieldname:\"print_format\", reqd:1},\n\t\t\t\t{fieldtype:\"Check\", label:\"No Letter Head\", fieldname:\"no_letterhead\"},\n\t\t\t\t{fieldtype:\"HTML\", options: '<p style=\"text-align: right;\">\\\n\t\t\t\t\t<button class=\"btn btn-primary btn-print\">Print</button>\\\n\t\t\t\t\t<button class=\"btn btn-default btn-preview\">Preview</button>\\\n\t\t\t\t</p>'},\n\t\t\t]\n\t\t});\n\n\t\tdialog.$wrapper.find(\".btn-print\").click(function() {\n\t\t\tvar args = dialog.get_values();\n\t\t\t_p.build(\n\t\t\t\targs.print_format, // fmtname\n\t\t\t\t_p.go, // onload\n\t\t\t\targs.no_letterhead // no_letterhead\n\t\t\t);\n\t\t});\n\n\t\tdialog.$wrapper.find(\".btn-preview\").click(function() {\n\t\t\tvar args = dialog.get_values();\n\t\t\t_p.build(\n\t\t\t\targs.print_format, // fmtname\n\t\t\t\t_p.preview, // onload\n\t\t\t\targs.no_letterhead // no_letterhead\n\t\t\t);\n\t\t});\n\n\t\tdialog.on_page_show = function() {\n\t\t\tvar $print = dialog.fields_dict.print_format.$input;\n\t\t\t$print.empty().add_options(cur_frm.print_preview.print_formats);\n\n\t\t\tif(cur_frm.$print_view_select && cur_frm.$print_view_select.val())\n\t\t\t\t$print.val(cur_frm.$print_view_select.val());\n\t\t}\n\n\t\t_p.dialog = dialog;\n\t},\n\n\t// Define formats dict\n\tformats: {},\n\n\t/* args dict can contain:\n\t\t\t+ fmtname --> print format name\n\t\t\t+ onload\n\t\t\t+ no_letterhead\n\t\t\t+ only_body\n\t*/\n\tbuild: function(fmtname, onload, no_letterhead, only_body, no_heading) {\n\t\tif(!fmtname) {\n\t\t\tfmtname= \"Standard\";\n\t\t}\n\n\t\tvar args = {\n\t\t\tfmtname: fmtname,\n\t\t\tonload: onload,\n\t\t\tno_letterhead: no_letterhead,\n\t\t\tonly_body: only_body\n\t\t};\n\n\t\tif(!cur_frm) {\n\t\t\tfrappe.msgprint(__(\"No document selected\"));\n\t\t\treturn;\n\t\t}\n\n\t\tif(!frappe.model.can_print(cur_frm.doctype, cur_frm)) {\n\t\t\tfrappe.msgprint(__(\"You are not allowed to print this document\"));\n\t\t\treturn;\n\t\t}\n\n\t\t// Get current doc (record)\n\t\tvar doc = locals[cur_frm.doctype][cur_frm.docname];\n\t\tif(args.fmtname == 'Standard') {\n\t\t\targs.onload(_p.render({\n\t\t\t\tbody: _p.print_std(args.no_letterhead, no_heading),\n\t\t\t\tstyle: _p.print_style,\n\t\t\t\tdoc: doc,\n\t\t\t\ttitle: doc.name,\n\t\t\t\tno_letterhead: args.no_letterhead,\n\t\t\t\tno_heading: no_heading,\n\t\t\t\tonly_body: args.only_body\n\t\t\t}));\n\t\t} else {\n\t\t\tvar print_format_doc = locals[\"Print Format\"][args.fmtname];\n\t\t\tif(!print_format_doc) {\n\t\t\t\tfrappe.msgprint(__(\"Unknown Print Format: {0}\", [args.fmtname]));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\targs.onload(_p.render({\n\t\t\t\tbody: print_format_doc.html,\n\t\t\t\tstyle: '',\n\t\t\t\tdoc: doc,\n\t\t\t\ttitle: doc.name,\n\t\t\t\tno_letterhead: args.no_letterhead,\n\t\t\t\tno_heading: no_heading,\n\t\t\t\tonly_body: args.only_body\n\t\t\t}));\n\t\t}\n\t},\n\n\trender: function(args) {\n\t\tvar container = document.createElement('div');\n\t\tvar stat = '';\n\n\t\tif(!args.no_heading) {\n\t\t\t// if draft/archived, show draft/archived banner\n\t\t\tstat += _p.show_draft(args);\n\t\t\tstat += _p.show_archived(args);\n\t\t\tstat += _p.show_cancelled(args);\n\t\t}\n\n\t\t// Append args.body's content as a child of container\n\t\tcontainer.innerHTML = args.body;\n\n\t\t// Show letterhead?\n\t\t_p.show_letterhead(container, args);\n\n\t\t_p.run_embedded_js(container, args.doc);\n\n\t\tvar style = _p.consolidate_css(container, args);\n\n\t\t_p.render_header_on_break(container, args);\n\n\t\treturn _p.render_final(style, stat, container, args);\n\t},\n\n\n\thead_banner_format: function() {\n\t\treturn \"\\\n\t\t\t<div style = '\\\n\t\t\t\t\ttext-align: center; \\\n\t\t\t\t\tpadding: 8px; \\\n\t\t\t\t\tbackground-color: #CCC;'> \\\n\t\t\t\t<div style = '\\\n\t\t\t\t\t\tfont-size: 20px; \\\n\t\t\t\t\t\tfont-weight: bold;'>\\\n\t\t\t\t\t{{HEAD}}\\\n\t\t\t\t</div>\\\n\t\t\t\t{{DESCRIPTION}}\\\n\t\t\t</div>\"\n\t},\n\n\t/*\n\t\tCheck if doc's status is not submitted (docstatus == 0)\n\t\tand submission is pending\n\n\t\tDisplay draft in header if true\n\t*/\n\tshow_draft: function(args) {\n\t\tvar is_doctype_submittable = 0;\n\t\tvar plist = locals['DocPerm'];\n\t\tfor(var perm in plist) {\n\t\t\tvar p = plist[perm];\n\t\t\tif((p.parent==args.doc.doctype) && (p.submit==1)){\n\t\t\t\tis_doctype_submittable = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(args.doc && cint(args.doc.docstatus)==0 && is_doctype_submittable) {\n\t\t\tvar draft = _p.head_banner_format();\n\t\t\tdraft = draft.replace(\"{{HEAD}}\", \"DRAFT\");\n\t\t\tdraft = draft.replace(\"{{DESCRIPTION}}\", \"This box will go away after the document is submitted.\");\n\t\t\treturn draft;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t},\n\n\n\t/*\n\t\tCheck if doc is archived\n\t\tDisplay archived in header if true\n\t*/\n\tshow_archived: function(args) {\n\t\tif(args.doc && args.doc.__archived) {\n\t\t\tvar archived = _p.head_banner_format();\n\t\t\tarchived = archived.replace(\"{{HEAD}}\", \"ARCHIVED\");\n\t\t\tarchived = archived.replace(\"{{DESCRIPTION}}\", \"You must restore this document to make it editable.\");\n\t\t\treturn archived;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t},\n\n\n\t/*\n\t\tCheck if doc is cancelled\n\t\tDisplay cancelled in header if true\n\t*/\n\tshow_cancelled: function(args) {\n\t\tif(args.doc && args.doc.docstatus==2) {\n\t\t\tvar cancelled = _p.head_banner_format();\n\t\t\tcancelled = cancelled.replace(\"{{HEAD}}\", \"CANCELLED\");\n\t\t\tcancelled = cancelled.replace(\"{{DESCRIPTION}}\", \"You must amend this document to make it editable.\");\n\t\t\treturn cancelled;\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t},\n\n\n\tconsolidate_css: function(container, args) {\n\t\t// Extract <style> content from container\n\t\tvar body_style = '';\n\t\tvar style_list = container.getElementsByTagName('style');\n\t\twhile(style_list && style_list.length>0) {\n\t\t\tfor(var i in style_list) {\n\t\t\t\tif(style_list[i] && style_list[i].innerHTML) {\n\t\t\t\t\tbody_style += style_list[i].innerHTML;\n\t\t\t\t\tvar parent = style_list[i].parentNode;\n\t\t\t\t\tif(parent) {\n\t\t\t\t\t\tparent.removeChild(style_list[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.removeChild(style_list[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tstyle_list = container.getElementsByTagName('style');\n\t\t}\n\n\t\t// Concatenate all styles\n\t\tvar style_concat =  (args.only_body ? '' : _p.def_print_style_body)\n\t\t\t\t+ _p.def_print_style_other + args.style + body_style;\n\n\t\treturn style_concat;\n\t},\n\n\n\t// This is used to calculate and substitude values in the HTML\n\trun_embedded_js: function(container, doc) {\n\t\tvar script_list = $(container).find(\"script\");\n\n\t\tfor(var i=0, j=script_list.length; i<j; i++) {\n\t\t\tvar element = script_list[i];\n\t\t\tvar code = element.innerHTML;\n\t\t\ttry {\n\t\t\t\tvar new_html = code ? (eval(code) || \"\") : \"\";\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log(\"Error in Custom Script:\" + e + \"\\n\" + code);\n\t\t\t\tconsole.trace(e);\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\tif(in_list([\"string\", \"number\"], typeof new_html)) {\n\t\t\t\t$(element).replaceWith(this.add_span(new_html + \"\"));\n\t\t\t}\n\t\t}\n\n\t\t// remove scripts once executed\n\t\t$(container).find(\"script\").remove();\n\t},\n\n\tadd_span: function(html) {\n\t\tvar tags = [\"<span\", \"<p\", \"<div\", \"<br\", \"<table\"];\n\t\tvar match = false;\n\t\tfor(var i=0; i<tags.length; i++) {\n\t\t\tif(html.match(tags[i])) {\n\t\t\t\tmatch = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(!match) {\n\t\t\thtml = \"<span>\" + html + \"</span>\";\n\t\t}\n\n\t\treturn html;\n\t},\n\n\n\t// Attach letterhead at top of container\n\tshow_letterhead: function(container, args) {\n\t\tif(!args.no_letterhead) {\n\t\t\tcontainer.innerHTML = '<div style=\"max-width: 100%\">'\n\t\t\t\t+ _p.get_letter_head() + '</div>'\n\t\t\t\t+ container.innerHTML;\n\t\t}\n\t},\n\n\n\trender_header_on_break: function(container, args) {\n\t\tvar page_set = container.getElementsByClassName('page-settings');\n\t\tif(page_set.length) {\n\t\t\tfor(var i = 0; i < page_set.length; i++) {\n\t\t\t\tvar tmp = '';\n\t\t\t\t// if draft/archived, show draft/archived banner\n\t\t\t\ttmp += _p.show_draft(args);\n\t\t\t\ttmp += _p.show_archived(args);\n\t\t\t\t_p.show_letterhead(page_set[i], args);\n\t\t\t\tpage_set[i].innerHTML = tmp + page_set[i].innerHTML;\n\t\t\t}\n\t\t}\n\t},\n\n\n\t// called by _p.render for final render of print\n\trender_final: function(style, stat, container, args) {\n\t\tif(!args.only_body) {\n\t\t\tvar header = '<!DOCTYPE html>\\\n<html>\\\n\t<head>\\\n\t\t<meta charset=\"utf-8\" />\\\n\t\t<title>' + args.title + '</title>\\\n\t\t<style>' + style + '</style>\\\n\t</head>\\\n\t<body>';\n\t\t\tvar footer = '\\\n\t</body>\\\n</html>';\n\t\t} else {\n\t\t\tvar header = '';\n\t\t\tvar footer = '';\n\t\t}\n\t\tvar finished =  header\n\t\t\t+ '<div class=\"page-settings\">'\n\t\t\t+ stat\n\t\t\t+ container.innerHTML\n\t\t\t+ '</div>'\n\t\t\t+ footer;\n\n\n\t\t// replace relative links by absolute links\n\t\tvar prefix = window.location.href.split(\"desk\")[0]\n\t\t// find unique matches\n\t\tvar matches = $.unique(finished.match(/src=['\"]([^'\"]*)['\"]/g) || []);\n\n\t\t$.each(matches, function(i, v) {\n\t\t\tif(v.substr(0,4)==\"src=\") {\n\t\t\t\tvar v = v.substr(5, v.length-6);\n\t\t\t\tif(v.substr(0,4)!=\"http\") {\n\t\t\t\t\tfinished = finished.split(v).join(prefix + lstrip(v, \"/\"));\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t\treturn finished;\n\t},\n\n\n\t// fetches letter head from current doc or control panel\n\tget_letter_head: function() {\n\t\tvar lh = '';\n\t\tif(cur_frm.doc.letter_head) {\n\t\t\tlh = cstr(frappe.boot.letter_heads[cur_frm.doc.letter_head].header);\n\t\t} else if (frappe.boot.sysdefaults.default_letter_head_content) {\n\t\t\tlh = frappe.boot.sysdefaults.default_letter_head_content;\n\t\t}\n\t\treturn lh;\n\t},\n\n\t// common print style setting\n\tprint_style: \"\\\n\t\t.datalabelcell { \\\n\t\t\tpadding: 2px 0px; \\\n\t\t\twidth: 38%; \\\n\t\t\tvertical-align: top; \\\n\t\t\t} \\\n\t\t.datainputcell { \\\n\t\t\tpadding: 2px 0px; \\\n\t\t\twidth: 62%; \\\n\t\t\ttext-align: left; \\\n\t\t\t}\\\n\t\t.sectionHeading { \\\n\t\t\tfont-size: 16px; \\\n\t\t\tfont-weight: bold; \\\n\t\t\tmargin: 8px 0px; \\\n\t\t\t} \\\n\t\t.columnHeading { \\\n\t\t\tfont-size: 14px; \\\n\t\t\tfont-weight: bold; \\\n\t\t\tmargin: 8px 0px; \\\n\t\t\t}\",\n\n\tprint_std: function(no_letterhead, no_heading) {\n\t\t// Get doctype, docname, layout for a doctype\n\t\tvar docname = cur_frm.docname;\n\t\tvar doctype = cur_frm.doctype;\n\t\tvar data = frappe.get_children(\"DocType\", doctype, \"fields\");\n\t\tvar layout = _p.add_layout(doctype);\n\t\tthis.pf_list = [layout];\n\t\tvar me = this;\n\t\tme.layout = layout;\n\n\t\t$.extend(this, {\n\t\t\tbuild_head: function(data, doctype, docname) {\n\t\t\t\t// Heading\n\t\t\t\tvar h1_style = {\n\t\t\t\t\tfontSize: '22px',\n\t\t\t\t\tmarginBottom: '8px'\n\t\t\t\t}\n\t\t\t\tvar h1 = $a(me.layout.cur_row.header, 'h1', '', h1_style);\n\n\t\t\t\t// Get print heading\n\t\t\t\tif (cur_frm.pformat[docname]) {\n\t\t\t\t\t// first check in cur_frm.pformat\n\t\t\t\t\th1.innerHTML = cur_frm.pformat[docname];\n\t\t\t\t} else {\n\t\t\t\t\t// then check if select print heading exists and has a value\n\t\t\t\t\tvar val = null;\n\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\tif (data[i].fieldname === 'select_print_heading') {\n\t\t\t\t\t\t\tval = _f.get_value(doctype, docname, data[i].fieldname);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// if not, just have doctype has heading\n\t\t\t\t\th1.innerHTML = val ? val : __(doctype);\n\t\t\t\t}\n\n\t\t\t\tvar h2_style = {\n\t\t\t\t\tfontSize: '16px',\n\t\t\t\t\tcolor: '#888',\n\t\t\t\t\tmarginBottom: '8px',\n\t\t\t\t\tpaddingBottom: '8px',\n\t\t\t\t\tborderBottom: (me.layout.with_border ? '0px' :\n\t\t\t\t\t\t'1px solid #000')\n\t\t\t\t}\n\t\t\t\tvar h2 = $a(me.layout.cur_row.header, 'div', '', h2_style);\n\t\t\t\th2.innerHTML = docname;\n\n\t\t\t\tif(cur_frm.state_fieldname && !cur_frm.fields_dict[cur_frm.state_fieldname].df.print_hide) {\n\t\t\t\t\t$a(h2, 'br');\n\t\t\t\t\tvar span = $a(h2, 'span', '',\n\t\t\t\t\t\t{padding: \"3px\", color: \"#fff\", backgroundColor: \"#777\",\n\t\t\t\t\t\t\tdisplay:\"inline-block\"});\n\t\t\t\t\tspan.innerHTML = cur_frm.doc[cur_frm.state_fieldname];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tbuild_data: function(data, doctype, docname) {\n\t\t\t\t// Start with a row and a cell in that row\n\t\t\t\tif(data[0] && data[0].fieldtype != \"Section Break\") {\n\t\t\t\t\tme.layout.addrow();\n\t\t\t\t\tif(data[0].fieldtype != \"Column Break\") {\n\t\t\t\t\t\tme.layout.addcell();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.extend(this, {\n\t\t\t\t\tgenerate_custom_html: function(field, doctype, docname) {\n\t\t\t\t\t\tvar container = $a(me.layout.cur_cell, 'div');\n\t\t\t\t\t\tcontainer.innerHTML = cur_frm.pformat[field.fieldname](locals[doctype][docname]);\n\t\t\t\t\t},\n\n\t\t\t\t\trender_normal: function(field, data, i) {\n\t\t\t\t\t\tswitch(field.fieldtype) {\n\t\t\t\t\t\t\tcase 'Fold': break;\n\t\t\t\t\t\t\tcase 'Section Break':\n\t\t\t\t\t\t\t\tme.layout.addrow();\n\n\t\t\t\t\t\t\t\t// Add column if no column break after this field\n\t\t\t\t\t\t\t\tif(data[i+1] && data[i+1].fieldtype !=\n\t\t\t\t\t\t\t\t\t\t'Column Break') {\n\t\t\t\t\t\t\t\t\tme.layout.addcell();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Column Break':\n\t\t\t\t\t\t\t\tme.layout.addcell(field.width, field.label);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Table':\n\t\t\t\t\t\t\t\tvar table = print_table(\n\t\t\t\t\t\t\t\t\t\tdoctype, // dt\n\t\t\t\t\t\t\t\t\t\tdocname, // dn\n\t\t\t\t\t\t\t\t\t\tfield.fieldname,\n\t\t\t\t\t\t\t\t\t\tfield.options, // tabletype\n\t\t\t\t\t\t\t\t\t\tnull, // cols\n\t\t\t\t\t\t\t\t\t\tnull, // head_labels\n\t\t\t\t\t\t\t\t\t\tnull, // widths\n\t\t\t\t\t\t\t\t\t\tnull); // condition\n\t\t\t\t\t\t\t\tme.layout = _p.print_std_add_table(table, me.layout, me.pf_list, doctype, no_letterhead);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'HTML':\n\t\t\t\t\t\t\t\tvar div = $a(me.layout.cur_cell, 'div');\n\t\t\t\t\t\t\t\tdiv.innerHTML = cstr(field.options);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Code':\n\t\t\t\t\t\t\t\tvar div = $a(me.layout.cur_cell, 'div');\n\t\t\t\t\t\t\t\tvar val = _f.get_value(doctype, docname,\n\t\t\t\t\t\t\t\t\tfield.fieldname);\n\t\t\t\t\t\t\t\tdiv.innerHTML = '<div>' + __(field.label) +\n\t\t\t\t\t\t\t\t\t': </div><pre style=\"font-family: Courier, Fixed;\">' + (val ? val : '') +\n\t\t\t\t\t\t\t\t\t'</pre>';\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'Text Editor':\n\t\t\t\t\t\t\t\tvar div = $a(me.layout.cur_cell, 'div');\n\t\t\t\t\t\t\t\tvar val = _f.get_value(doctype, docname,\n\t\t\t\t\t\t\t\t\tfield.fieldname);\n\t\t\t\t\t\t\t\tdiv.innerHTML = val ? val : '';\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t// Add Cell Data\n\t\t\t\t\t\t\t\t_p.print_std_add_field(doctype, docname, field, me.layout);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Then build each field\n\t\t\t\tfor(var i = 0; i < data.length; i++) {\n\t\t\t\t\tvar fieldname = data[i].fieldname ? data[i].fieldname :\n\t\t\t\t\t\tdata[i].label;\n\t\t\t\t\tvar field = fieldname ?\n\t\t\t\t\t\tfrappe.meta.get_docfield(doctype, fieldname, docname) : data[i];\n\t\t\t\t\tif(!field.print_hide) {\n\t\t\t\t\t\tif(cur_frm.pformat[field.fieldname]) {\n\t\t\t\t\t\t\t// If there is a custom method to generate the HTML, then use it\n\t\t\t\t\t\t\tthis.generate_custom_html(field, doctype, docname);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Do the normal rendering\n\t\t\t\t\t\t\tthis.render_normal(field, data, i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tme.layout.close_borders();\n\t\t\t},\n\n\t\t\tbuild_html: function() {\n\t\t\t\tvar html = '';\n\t\t\t\tfor(var i = 0; i < me.pf_list.length; i++) {\n\t\t\t\t\tif(me.pf_list[i].wrapper) {\n\t\t\t\t\t\thtml += me.pf_list[i].wrapper.innerHTML;\n\t\t\t\t\t} else if(me.pf_list[i].innerHTML) {\n\t\t\t\t\t\thtml += me.pf_list[i].innerHTML;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml += me.pf_list[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.pf_list = [];\n\t\t\t\treturn html;\n\t\t\t}\n\t\t});\n\n\t\tif(!no_heading) {\n\t\t\tthis.build_head(data, doctype, docname);\n\t\t}\n\n\t\tthis.build_data(data, doctype, docname);\n\n\t\tvar html = this.build_html();\n\t\treturn html;\n\t},\n\n\tadd_layout: function(doctype) {\n\t\tvar layout = new Layout();\n\t\tlayout.addrow();\n\n\t\tif(locals['DocType'][doctype].print_outline == 'Yes') {\n\t\t\tlayout.with_border = 1\n\t\t}\n\n\t\treturn layout;\n\t},\n\n\tprint_std_add_table: function(t, layout, pf_list, dt, no_letterhead) {\n\t\tif(t.appendChild) {\n\t\t\t// If only one table is passed\n\t\t\tlayout.cur_cell.appendChild(t);\n\t\t} else {\n\t\t\tvar page_break = '\\n\\\n\t\t\t\t<div style = \"page-break-after: always;\" \\\n\t\t\t\tclass = \"page_break\"></div><div class=\"page-settings\"></div>';\n\n\t\t\t// If a list of tables is passed\n\t\t\tfor(var i = 0; i < t.length-1; i++) {\n\t\t\t\t// add to current page\n\t\t\t\tlayout.cur_cell.appendChild(t[i]);\n\t\t\t\tlayout.close_borders();\n\n\t\t\t\tpf_list.push(page_break);\n\n\t\t\t\t// Create new page\n\t\t\t\tlayout = _p.add_layout(dt, no_letterhead);\n\t\t\t\tpf_list.push(layout);\n\n\t\t\t\tlayout.addrow();\n\t\t\t\tlayout.addcell();\n\n\t\t\t\tvar div = $a(layout.cur_cell, 'div');\n\t\t\t\tdiv.innerHTML = 'Continued from previous page...';\n\t\t\t\tdiv.style.padding = '4px';\n\t\t\t}\n\n\t\t\t// Append last table\n\t\t\tlayout.cur_cell.appendChild(t[t.length-1]);\n\t\t}\n\t\treturn layout;\n\t},\n\n\tprint_std_add_field: function(dt, dn, f, layout) {\n\t\tvar val = _f.get_value(dt, dn, f.fieldname);\n\t\tif(f.fieldtype!='Button') {\n\t\t\tif(val || in_list(['Float', 'Int', 'Currency'], f.fieldtype)) {\n\t\t\t\t// If value or a numeric type then proceed\n\n\t\t\t\t// Add field table\n\t\t\t\tvar row = _p.field_tab(layout.cur_cell);\n\n\t\t\t\t// Add label\n\t\t\t\trow.cells[0].innerHTML = __(f.label ? f.label : f.fieldname);\n\t\t\t\trow.cells[1].innerHTML = frappe.format(val, f, {for_print: true});\n\n\t\t\t\t// left align currency in normal display\n\t\t\t\tif(f.fieldtype == 'Currency') {\n\t\t\t\t\t$y(row.cells[1], { textAlign: 'left' });\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t},\n\n\tfield_tab: function(layout_cell) {\n\t\tvar tab = $a(layout_cell, 'table', '', {width:'100%'});\n\t\tvar row = tab.insertRow(0);\n\t\t_p.row = row; // Don't know this line's purpose\n\t\trow.insertCell(0);\n\t\trow.insertCell(1);\n\t\trow.cells[0].className = 'datalabelcell';\n\t\trow.cells[0].style.width = \"38%\";\n\t\trow.cells[1].className = 'datainputcell';\n\t\treturn row;\n\t}\n});\n"],"names":["this"],"mappings":"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"}